# **10. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ü–û: SOLID, –ü–∞—Ç—Ç–µ—Ä–Ω—ã, –ü—Ä–∞–∫—Ç–∏–∫–∏**  

## **1. SOLID**  
–ü—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–±–∫–æ–≥–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –∫–æ–¥–∞.  

### **‚ë† Single Responsibility (–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)**  
- –ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è** (—Ä–µ—à–∞—Ç—å –æ–¥–Ω—É –∑–∞–¥–∞—á—É).  
- ‚ùå –ü–ª–æ—Ö–æ:  
  ```java
  class User {
      void saveToDatabase() { ... }  // –†–∞–±–æ—Ç–∞ —Å –ë–î
      void sendEmail() { ... }       // –û—Ç–ø—Ä–∞–≤–∫–∞ email
  }
  ```  
- ‚úÖ –•–æ—Ä–æ—à–æ:  
  ```java
  class User { ... }  
  class UserRepository { void save(User user) { ... } }  
  class EmailService { void sendEmail(User user) { ... } }  
  ```  

---

### **‚ë° Open-Closed (–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏)**  
- –ö–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –Ω–æ –∑–∞–∫—Ä—ã—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**.  
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)** –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞.  
- ‚ùå –ü–ª–æ—Ö–æ:  
  ```java
  class PaymentProcessor {
      void process(String paymentType) {
          if (paymentType.equals("credit")) { ... }
          else if (paymentType.equals("paypal")) { ... } // –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –∫–ª–∞—Å—Å
      }
  }
  ```  
- ‚úÖ –•–æ—Ä–æ—à–æ:  
  ```java
  interface PaymentMethod { void process(); }  
  class CreditCard implements PaymentMethod { ... }  
  class PayPal implements PaymentMethod { ... }  
  // –ù–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –∞ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ PaymentProcessor.
  ```  

---

### **‚ë¢ Liskov Substitution (–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤)**  
- –ü–æ–¥—Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã **–±—ã—Ç—å –∑–∞–º–µ–Ω—è–µ–º—ã–º–∏** –Ω–∞ —Å–≤–æ–∏ –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã.  
- –ù–∞—Å–ª–µ–¥–Ω–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω —É–∂–µ—Å—Ç–æ—á–∞—Ç—å —É—Å–ª–æ–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—Ä–æ—Å–∞—Ç—å –Ω–æ–≤—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è).  
- ‚ùå –ü–ª–æ—Ö–æ:  
  ```java
  class Rectangle {  
      void setWidth(int w) { ... }  
      void setHeight(int h) { ... }  
  }  
  class Square extends Rectangle {  
      void setWidth(int w) { width = height = w; } // –ù–∞—Ä—É—à–∞–µ—Ç –ª–æ–≥–∏–∫—É Rectangle!
  }  
  ```  
- ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ù–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å `Square` –æ—Ç `Rectangle`, –µ—Å–ª–∏ –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è.  

---

### **‚ë£ Interface Segregation (–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)**  
- –ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç.  
- –õ—É—á—à–µ –º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, —á–µ–º –æ–¥–∏–Ω "–∂–∏—Ä–Ω—ã–π".  
- ‚ùå –ü–ª–æ—Ö–æ:  
  ```java
  interface Worker {  
      void work();  
      void eat();  // –û—Ñ–∏—Å–Ω—ã–π —Ä–∞–±–æ—Ç–Ω–∏–∫ –µ—Å—Ç, –∞ —Ä–æ–±–æ—Ç ‚Äî –Ω–µ—Ç, –Ω–æ –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥!
  }  
  ```  
- ‚úÖ –•–æ—Ä–æ—à–æ:  
  ```java
  interface Workable { void work(); }  
  interface Eatable { void eat(); }  
  class Human implements Workable, Eatable { ... }  
  class Robot implements Workable { ... }  
  ```  

---

### **‚ë§ Dependency Inversion (–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)**  
- –ú–æ–¥—É–ª–∏ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–æ–¥—É–ª–µ–π –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è. –û–±–∞ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.  
- –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DI) —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä/—Å–µ—Ç—Ç–µ—Ä.  
- ‚ùå –ü–ª–æ—Ö–æ:  
  ```java
  class UserService {  
      private MySQLDatabase db = new MySQLDatabase();  // –ñ–µ—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
  }  
  ```  
- ‚úÖ –•–æ—Ä–æ—à–æ:  
  ```java
  interface Database { void save(); }  
  class UserService {  
      private Database db;  
      UserService(Database db) { this.db = db; }  // DI
  }  
  // –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å MySQL –Ω–∞ PostgreSQL, –Ω–µ –º–µ–Ω—è—è UserService.
  ```  

---

## **2. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**  
### **Creational (–ü–æ—Ä–æ–∂–¥–∞—é—â–∏–µ)**  
- **Singleton** ‚Äì –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞:  
  ```java
  class Logger {
      private static Logger instance;
      private Logger() {}
      public static Logger getInstance() {
          if (instance == null) instance = new Logger();
          return instance;
      }
  }
  ```  
- **Factory** ‚Äì —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞:  
  ```java
  interface Car { ... }  
  class Sedan implements Car { ... }  
  class SUV implements Car { ... }  

  class CarFactory {
      Car createCar(String type) {
          return switch (type) {
              case "sedan" -> new Sedan();
              case "suv" -> new SUV();
              default -> throw new IllegalArgumentException();
          };
      }
  }
  ```  
- **Builder** ‚Äì –ø–æ—à–∞–≥–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:  
  ```java
  User user = new User.Builder().name("Alice").age(25).build();
  ```  

---

### **Structural (–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ)**  
- **Adapter** ‚Äì –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:  
  ```java
  class OldSystem { void oldRequest() { ... } }  
  interface NewSystem { void newRequest(); }  

  class Adapter implements NewSystem {
      private OldSystem old;
      Adapter(OldSystem old) { this.old = old; }
      void newRequest() { old.oldRequest(); }
  }
  ```  
- **Proxy** ‚Äì –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ):  
  ```java
  interface Image { void display(); }  
  class RealImage implements Image { ... }  

  class ProxyImage implements Image {
      private RealImage realImage;
      void display() {
          if (realImage == null) realImage = new RealImage();
          realImage.display();
      }
  }
  ```  
- **Decorator** ‚Äì –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ:  
  ```java
  interface Coffee { double getCost(); }  
  class SimpleCoffee implements Coffee { ... }  

  class MilkDecorator implements Coffee {
      private Coffee coffee;
      MilkDecorator(Coffee coffee) { this.coffee = coffee; }
      double getCost() { return coffee.getCost() + 0.5; }
  }
  ```  

---

### **Behavioral (–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ)**  
- **Observer** ‚Äì —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:  
  ```java
  interface Observer { void update(String news); }  
  class NewsAgency {
      private List<Observer> observers = new ArrayList<>();
      void addObserver(Observer o) { observers.add(o); }
      void notifyObservers(String news) {
          for (Observer o : observers) o.update(news);
      }
  }
  ```  
- **Strategy** ‚Äì –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã:  
  ```java
  interface PaymentStrategy { void pay(int amount); }  
  class CreditCardStrategy implements PaymentStrategy { ... }  
  class PayPalStrategy implements PaymentStrategy { ... }  

  class ShoppingCart {
      private PaymentStrategy strategy;
      void setStrategy(PaymentStrategy s) { this.strategy = s; }
      void checkout(int amount) { strategy.pay(amount); }
  }
  ```  
- **Command** ‚Äì –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ –æ–±—ä–µ–∫—Ç—ã:  
  ```java
  interface Command { void execute(); }  
  class LightOnCommand implements Command {
      private Light light;
      void execute() { light.turnOn(); }
  }  
  class RemoteControl {
      void submit(Command cmd) { cmd.execute(); }
  }
  ```  

---

## **3. –ü—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**  
### **‚ë† DRY (Don‚Äôt Repeat Yourself)**  
- –ò–∑–±–µ–≥–∞–π—Ç–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞. –í—ã–Ω–æ—Å–∏—Ç–µ –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ –º–µ—Ç–æ–¥—ã/–∫–ª–∞—Å—Å—ã.  
- ‚ùå –ü–ª–æ—Ö–æ:  
  ```java
  void processOrderA() { validate(); saveToDB(); log(); }  
  void processOrderB() { validate(); saveToDB(); log(); }  // –¢–∞ –∂–µ –ª–æ–≥–∏–∫–∞
  ```  
- ‚úÖ –•–æ—Ä–æ—à–æ:  
  ```java
  void processOrder(Order order) { validate(); saveToDB(); log(); }  
  ```  

### **‚ë° KISS (Keep It Simple, Stupid)**  
- –î–µ–ª–∞–π—Ç–µ –∫–æ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.  
- ‚ùå –ü–ª–æ—Ö–æ:  
  ```java
  String result = list.stream().filter(x -> x % 2 == 0).map(x -> x * 2).collect(Collectors.joining(", "));
  ```  
- ‚úÖ –•–æ—Ä–æ—à–æ (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞):  
  ```java
  for (int x : list) if (x % 2 == 0) System.out.print(x * 2 + ", ");
  ```  

### **‚ë¢ YAGNI (You Aren‚Äôt Gonna Need It)**  
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å "–Ω–∞ –±—É–¥—É—â–µ–µ".  
- ‚ùå –ü–ª–æ—Ö–æ:  
  ```java
  class User {
      private String name;
      private String futureField1; // –ê –≤–¥—Ä—É–≥ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è?
      private String futureField2;
  }
  ```  
- ‚úÖ –•–æ—Ä–æ—à–æ:  
  ```java
  class User { private String name; }  // –î–æ–±–∞–≤–∏–º –ø–æ–ª—è, –∫–æ–≥–¥–∞ –æ–Ω–∏ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è.
  ```  

---

### **–ò—Ç–æ–≥**  
- **SOLID** ‚Äì –æ—Å–Ω–æ–≤–∞ –û–û–ü, –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –≥–∏–±–∫–∏–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º.  
- **–ü–∞—Ç—Ç–µ—Ä–Ω—ã** ‚Äì –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–¥–∞—á.  
- **DRY/KISS/YAGNI** ‚Äì –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —á–∏—Å—Ç–æ—Ç—ã –∫–æ–¥–∞.  

–°–ª–µ–¥–æ–≤–∞–Ω–∏–µ —ç—Ç–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤! üöÄ
